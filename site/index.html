<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link href="../static/bootstrap.min@v5.3.3.css" rel="stylesheet" />
  <script defer src="../static/htmx.org@1.9.10.js"></script>
  <style>
    textarea {
      height: 400px;
      resize: none;
      white-space: nowrap;
    }
  </style>
  <script>
    function updateCommands() {
      const cli = {
        "v0.3.8-alpha": [
          "<option value='' selected>Select command</option>",
          "<option value='select'>select</option>"
        ],
        "v0.3.7-alpha": [
          "<option value='' selected>Select command</option>",
          "<option value='select'>select</option>",
          "<option value='echo'>echo</option>"
        ],
        "v0.3.6-alpha": [
          "<option value='' selected>Select command</option>",
          "<option value='select'>select</option>",
          "<option value='echo'>echo</option>",
          "<option value='sql'>sql</option>"
        ]
      };
      const version = document.getElementById("version").value;
      if (version === "") {
        document.getElementById("commands").innerHTML = "";
      } else {
        document.getElementById("commands").innerHTML = cli[version].join();
      }
    }

    function updateCLI() {
      const command = document.getElementById("commands").value;
      document.getElementById("cli").value = "zsv " + command;
    }

    function updateFlagsAndCLI() {
      updateCLI();
    }

  </script>
  <title>zsv playground v0.0.1</title>
</head>

<body class="p-3 mt-3 font-monospace">
  <div class="container">
    <div class="text-center text-bg-primary rounded-2 fs-3">
      zsv playground
      <span class="badge badge-dark">v0.0.1</span>
    </div>

    <!-- version -->
    <div class="row mt-4 mb-4 text-center">
      <div class="col-12">
        <select id="version" class="form-select w-25 mx-auto text-center" required onchange="updateCommands();">
          <option value="" selected>Select zsv version</option>
          <option value="v0.3.8-alpha">zsv v0.3.8-alpha</option>
          <option value="v0.3.7-alpha">zsv v0.3.7-alpha</option>
          <option value="v0.3.6-alpha">zsv v0.3.6-alpha</option>
        </select>
      </div>
    </div>

    <form class="form" action="#">
      <div class="row mb-3 flex-nowrap">
        <!-- commands -->
        <div class="col-3">
          <select id="commands" class="form-select overflow-auto" size="7" required onchange="updateFlagsAndCLI();">
            <!-- <option value="" selected>Select command</option> -->
            <!-- <option value="select">select</option> -->
            <!-- <option value="echo">echo</option> -->
          </select>
        </div>

        <!-- flags -->
        <div class="col-9">
          <div id="flags" class="list-group overflow-auto p-2 border" style="max-height: 150px;">
            <div class="input-group">
              <div class="input-group-text">
                <input class="form-check-input" type="checkbox" value="" />
              </div>
              <span class="form-control input-group-text">boolean flag</span>
            </div>
            <div class="input-group">
              <div class="input-group-text">
                <input class="form-check-input" type="checkbox" value="" />
              </div>
              <span class="form-control input-group-text">boolean flag</span>
            </div>
            <div class="input-group">
              <div class="input-group-text">
                <input class="form-check-input" type="checkbox" value="" />
              </div>
              <span class="form-control input-group-text w-50">flag with value</span>
              <input type="text" class="form-control" placeholder="value" />
            </div>
            <div class="input-group mb-3">
              <div class="input-group-text">
                <input class="form-check-input" type="checkbox" value="" />
              </div>
              <span class="form-control input-group-text w-50">flag with value</span>
              <input type="text" class="form-control" placeholder="value" />
            </div>
          </div>
        </div>
      </div>

      <!-- cli -->
      <div class="row">
        <div class="input-group">
          <input id="cli" type="text" class="form-control bg-light" value="zsv" readonly />
          <button id="run" class="btn btn-outline-primary" type="submit">Run</button>
        </div>
      </div>

      <!-- input and output -->
      <div class="row mt-3">
        <div class="col">
          <label for="csv" class="form-label">CSV</label>
          <textarea id="csv" class="form-control" required></textarea>
        </div>
        <div class="col">
          <label for="result" class="form-label">Result</label>
          <textarea id="result" class="form-control" readonly></textarea>
        </div>
      </div>
    </form>
  </div>
</body>

</html>
